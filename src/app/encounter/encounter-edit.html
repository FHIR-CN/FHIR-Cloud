<div ng-controller="encounterDetail as vm" layout="row" layout-wrap ng-cloak>
    <div flex="100">
        <h3 ng-if="vm.isEditing === false">Add New Encounter</h3>

        <h3 ng-if="vm.isEditing === true">Edit Encounter for {{vm.encounter.patient.name | fullName}}</h3>
    </div>
    <div flex="20">
        <md-button class="actions" md-no-ink ng-click="vm.actions($event)" aria-label="Actions">
            <md-icon md-svg-icon="actions"></md-icon>
        </md-button>
    </div>
    <div flex="100">
        <form name="encounterEditForm" class="form-horizontal"
              ng-model="vm.encounter">
            <md-tabs>
                <md-tab label="Status">
                    <div ng-include="'elements/humanName/humanName.html'"></div>
                </md-tab>
                <md-tab label="Hospitalization">
                    <div layout-gt-lg="row" layout-align="space-between center" layout-wrap>
                        <md-input-container flex>
                            <label>Pre-Admission Identifier</label>
                            <input ng-model="vm.encounter.hospitalization.preAdmissionIdentifier">
                        </md-input-container>

                        <md-input-container flex>
                            <label>Birth order</label>
                            <input ng-model="vm.demographics.birthOrder" id="order" type="number">
                        </md-input-container>

                        <md-input-container flex>
                            <label>Place of birth</label>
                            <input ng-model="vm.demographics.placeOfBirth.text">
                        </md-input-container>

                        <md-input-container flex>
                            <label>Mother's maiden name</label>
                            <input ng-model="vm.demographics.mothersMaidenName">
                        </md-input-container>
                    </div>
                </md-tab>
                <md-tab label="Participants">
                    <div ng-include="'elements/address/address.html'"></div>
                </md-tab>
                <md-tab label="Referrals">

                </md-tab>
                <md-tab label="Locations">
                    <div ng-include="'elements/contactPoint/contactPoint.html'"></div>
                </md-tab>
                <md-tab label="Status History">
                    <div ng-include="'elements/contact/contact.html'"></div>
                </md-tab>

            </md-tabs>
            <div layout="row" layout-align="end end">
                <md-button ng-click="vm.save()" aria-label="Execute save">
                    <md-icon md-svg-icon="saveToCloud" aria-label="save encounter" alt="Save Encounter"></md-icon>
                </md-button>
                <md-progress-linear md-mode="indeterminate" ng-if="vm.isBusy"></md-progress-linear>
            </div>
        </form>
    </div>
</div>