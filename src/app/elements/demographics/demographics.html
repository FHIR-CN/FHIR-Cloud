<div data-ng-controller="demographics as vm">
    <div layout-gt-lg="row" layout-align="space-between center" layout-wrap>
        <md-input-container flex>
            <label>Birth date</label>
            <input ng-model="vm.demographics.birthDate" ng-change="vm.updateBirthDate()" id="dob" type="date">
        </md-input-container>

        <md-input-container flex>
            <label>Birth order</label>
            <input ng-model="vm.demographics.birthOrder" id="order" type="number">
        </md-input-container>

        <md-input-container flex>
            <label>Place of birth</label>
            <input ng-model="vm.demographics.placeOfBirth">
        </md-input-container>

        <md-input-container flex>
            <label>Mother's maiden name</label>
            <input ng-model="vm.demographics.mothersMaidenName">
        </md-input-container>

        <md-input-container flex>
            <label>Date of death</label>
            <input ng-model="vm.demographics.deceasedDate" id="dod" type="date">
        </md-input-container>
    </div>
    <div layout-gt-md="row" layout-align="space-between center" layout-wrap>
        <div layout="column" layout-align="center center" style="height: 100px;">
            <md-select ng-model="vm.demographics.gender" ng-change="vm.updateGender()" ng-selected="vm.demographics.gender.code">
                <md-option value="female">Female</md-option>
                <md-option value="male">Male</md-option>
                <md-option value="other">Other</md-option>
                <md-option value="unknown">Unknown</md-option>
            </md-select>
            <p class="result">Gender</p>
        </div>
        <div layout="column" layout-align="center center" style="height: 100px;">
            <md-select ng-model="vm.demographics.language" ng-change="vm.updateLanguage()" md-on-open="vm.loadLanguages()" ng-selected="vm.demographics.language.code">
                <md-option ng-value="language" ng-repeat="language in vm.languages">
                    {{language.display}}
                </md-option>
            </md-select>
            <p class="result">Language</p>
        </div>

        <div layout="column" layout-align="center center" style="height: 100px;">
            <md-select ng-model="vm.demographics.race" md-on-open="vm.loadRaces()" ng-selected="vm.demographics.race.code">
                <md-option ng-value="race" ng-repeat="race in vm.races">{{race.display}}</md-option>
            </md-select>
            <p class="result">Race</p>
        </div>

        <div layout="column" layout-align="center center" style="height: 100px;">
            <md-select ng-model="vm.demographics.religion" md-on-open="vm.loadReligions()" ng-selected="vm.demographics.religion.code">
                <md-option ng-value="religion" ng-repeat="religion in vm.religions">
                    {{religion.display}}
                </md-option>
            </md-select>
            <p class="result">Religion</p>
        </div>

        <div layout="column" layout-align="center center" style="height: 100px;">
            <md-select ng-model="vm.demographics.ethnicity" md-on-open="vm.loadEthnicities()"
                       style="min-width: 200px;" ng-selected="vm.demographics.ethnicity.code">
                <md-optgroup ng-value="main" ng-repeat="main in vm.ethnicities">{{main.display}}
                    <md-option ng-value="main">{{main.display}}</md-option>
                    <md-optgroup ng-value="group" ng-repeat="group in main.concept">
                        {{group.display}}
                        <md-option ng-value="group">{{group.display}}</md-option>
                        <md-option ng-value="class" ng-repeat="class in group.concept">
                            {{class.display}}
                        </md-option>
                    </md-optgroup>
                </md-optgroup>
            </md-select>
            <p class="result">Ethnicity</p>
        </div>
    </div>
</div>